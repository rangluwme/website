<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8" />
    <title>Code</title>
</head>
<body>
    

<pre>
parsers: # array ^.*$
  - reg: ^https:\/\/rangluw\.top\/clash$
    code: |
      module.exports.parse = (raw, { yaml }) => {
        const rawObj = yaml.parse(raw)
        const groups = []
        const rules = []
        return yaml.stringify({ ...rawObj, 'proxy-groups': groups, rules })
      } 
    yaml:
      prepend-rules:
        - RULE-SET,rejectlist,REJECT
        - RULE-SET,BanEasyListChina,REJECT
        - RULE-SET,BanEasyList,REJECT
        - RULE-SET,BanEasyPrivacy,REJECT
        - RULE-SET,proxylist,ğŸŒ
        - RULE-SET,directlist,DIRECT
        - GEOIP,CN,DIRECT
        - MATCH,ğŸŒ
      prepend-proxy-groups:
        - name: ğŸŒ
          type: select
          proxies:
          - ğŸ‡­ğŸ‡° é¦™æ¸¯
          - ğŸ‡¨ğŸ‡³ å°æ¹¾
          - ğŸ‡¸ğŸ‡¬ æ–°åŠ å¡
          - ğŸ‡ºğŸ‡² ç¾å›½
        - name: ğŸ‡­ğŸ‡° é¦™æ¸¯
          type: url-test
          url: http://www.apple.com/library/test/success.html
          interval: 10
        - name: ğŸ‡¨ğŸ‡³ å°æ¹¾ 
          # type: select
          type: url-test
          url: http://www.apple.com/library/test/success.html
          interval: 10
        - name: ğŸ‡¸ğŸ‡¬ æ–°åŠ å¡ 
          type: url-test
          url: http://www.apple.com/library/test/success.html
          interval: 10
        - name: ğŸ‡ºğŸ‡² ç¾å›½
          type: url-test
          url: http://www.apple.com/library/test/success.html
          interval: 10
      commands:
        - proxy-groups.ğŸ‡­ğŸ‡° é¦™æ¸¯.proxies=[]proxyNames|æ¸¯|HK
        - proxy-groups.ğŸ‡¨ğŸ‡³ å°æ¹¾.proxies=[]proxyNames|å°|TW
        - proxy-groups.ğŸ‡¸ğŸ‡¬ æ–°åŠ å¡.proxies=[]proxyNames|æ–°|ç‹®åŸ|SG
        - proxy-groups.ğŸ‡ºğŸ‡² ç¾å›½.proxies=[]proxyNames|ç¾|US|æ—¥|éŸ©
      mix-rule-providers: 
        directlist: 
          type: http
          behavior: classical
          url: "https://raw.githubusercontent.com/rangluwme/rule/main/directlist.yaml"
          path: ./ruleset/directlist.yaml
          interval: 86400
        proxylist: 
          type: http
          behavior: classical
          url: "https://raw.githubusercontent.com/rangluwme/rule/main/proxylist.yaml"
          path: ./ruleset/proxylist.yaml
          interval: 86400
        BanEasyList:
          behavior: classical 
          type: http
          url: "https://cdn.jsdelivr.net/gh/Mythologyli/ZJU-Rule/Clash/Providers/BanEasyList.yaml"
          interval: 86400
          path: ./ruleset/BanEasyList.yaml
        BanEasyListChina:
          behavior: classical 
          type: http
          url: "https://cdn.jsdelivr.net/gh/Mythologyli/ZJU-Rule/Clash/Providers/BanEasyListChina.yaml"
          interval: 86400
          path: ./ruleset/BanEasyListChina.yaml
        BanEasyPrivacy:
          behavior: classical 
          type: http
          url: "https://cdn.jsdelivr.net/gh/Mythologyli/ZJU-Rule/Clash/Providers/BanEasyPrivacy.yaml"
          interval: 86400
          path: ./ruleset/BanEasyPrivacy.yaml
        rejectlist: # å¹¿å‘ŠåŸŸååˆ—è¡¨
          type: http
          behavior:  classical
          url: "https://raw.githubusercontent.com/rangluwme/rule/main/rejectlist.yaml"
          path: ./ruleset/rejectlist.yaml
          interval: 86400
</pre>
<hr />
<pre>
mixin: # Mixin é…ç½®æ–‡ä»¶
  tun:
    enable: true
    stack: gvisor
    auto-route: true
    auto-detect-interface: true
    dns-hijack:
      - any:53
  dns:
    enable: true
    listen: 0.0.0.0:53
    ipv6: true
    enhanced-mode: fake-ip
    fake-ip-range: 198.18.0.1/16
    fake-ip-filter:
      - "*.msftncsi.com"
      - "*.msftconnecttest.com"
      - WORKGROUP
      - zjuwlan.intl.zju.edu.cn
    use-hosts: false
    default-nameserver:
      - 223.5.5.5
      - 8.8.4.4
    nameserver:
      - 10.105.1.124
      - 10.105.1.122
      - https://dns.alidns.com/dns-query
      - https://doh.pub/dns-query
    fallback:
      - https://east.lele233.pro/dns-query
      - https://east.lele233.pro/cdn
      - https://south.lele233.pro/dns-query
      - https://south.lele233.pro/cdn
      - https://hk.lele233.cn:2333/dns-query
      - 1.1.1.1
      - 8.8.8.8
    fallback-filter:
      geoip: true
      geoip-code: CN
      ipcidr:
         - 240.0.0.0/4
         - 0.0.0.0/32
         - 127.0.0.1/32
</pre>
<hr/>

<pre>
mixin: # Mixin é…ç½®æ–‡ä»¶
  dns:
    enable: true
    nameserver:
      - 10.105.1.124
      - 10.105.1.122
      - https://dns.alidns.com/dns-query
      - https://doh.pub/dns-query
    fallback:
      - 1.1.1.1
      - 8.8.8.8
    fallback-filter:
      geoip: true
      geoip-code: CN
      ipcidr:
         - 240.0.0.0/4
         - 0.0.0.0/32
         - 127.0.0.1/32
</pre>
<hr />
<pre>
(A).*(B)        èŠ‚ç‚¹åæ—¢æœ‰ Aåˆæœ‰ B
(A)|(B)         èŠ‚ç‚¹åæœ‰ A æˆ–è€… B  
^((?!A).)*$     èŠ‚ç‚¹åä¸å«æœ‰ A
(?!.*(A)).*(B)  èŠ‚ç‚¹åä¸å«æœ‰ Aï¼ŒåŒæ—¶å«æœ‰ B
é¦™æ¸¯|HK|æ–°åŠ å¡|SG|ç‹®åŸ|æ—¥æœ¬|éŸ©å›½|KR|JP|ç¾|US|å°æ¹¾|TW
^(?!.*https:\/\/rangluw\.top\/clash).*$
<a href="https://home.xsus.me/index.php/#/register?code=RLxsKCoU">Referral-1</a>
<a href="https://p.xflash.cc/#/register?code=5ARsvXJN">Referral-2</a>
<a href="https://www.fyb-aff.com/auth/register?code=wtul">Referral-3</a>
<a href="https://teacat.cloud/#/register?code=XpD9aOcc">Referral-4</a>

</pre>
</body>
</html>
